<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalogo</title>
    <link rel="stylesheet" href="css/pagina_principal.css">
    <link rel="stylesheet" href="css/catalogo.css">
    <link rel="stylesheet" href=" css/barra_navegacion.css">
    <link rel="stylesheet" href="css/footer.css">
</head>

<body>
    <header>
        <h1>Catalogo</h1>
        <!-- icono de carrito -->
        <div class="container-icon" onclick="irCarrito()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5}
                stroke="currentColor" className="size-6" class="icono-carrito">
                <path strokeLinecap="round" strokeLinejoin="round"
                    d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
            </svg>
            <!-- contador de productos del carrito-->
            <div class="cont-productos">
                <span id="contador-productos">0</span>
            </div>
            <!-- contenedor de productos del carrito -->
            <div id="contenedor-productos-carrito">
                <div id="productos-carritos">
                    <div class="informacion-producto-carrito">
                        <span class="cantidad-producto-carrito">1</span>
                        <p class="titulo-producto-carrito">Sensor</p>
                        <span class="precio-producto-carrito">$30.000</span>
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5}
                        stroke="currentColor" className="size-6" class="icono-x">
                        <path strokeLinecap="round" strokeLinejoin="round" d="M6 18 18 6M6 6l12 12" />
                    </svg>
                </div>
                <div class="carrito-total">
                    <h3>Total:</h3>
                    <span class="total-pagar">$200</span>
                </div>
            </div>
        </div>
    </header>
    <!-- Contenedor de los items de la tienda -->
    <div class="contenedor-item">
        <div class="item">
            <figure>
                <img src="img/sensor de humedad.jpg" alt="sensor_humedad">
            </figure>
            <div class="info-producto">
                <h2>Sendor de humedad</h2>
                <p class="precio">$30.000</p>
                <input type="button" value="Agregar">
                <button onclick="agregarProducto(1)">Añadir al carrito</button>
            </div>
        </div>
        <div class="item">
            <figure>
                <img src="img/sensor de luz.jpg" alt="sensor_luz">
            </figure>
            <div class="info-producto">
                <h2>Sendor de luz</h2>
                <p class="precio">$30.000</p>
                <button onclick="agregarProducto(2)">Añadir al carrito</button>
            </div>
        </div>
        <div class="item">
            <figure>
                <img src="img/sensor de voltaje.jpg" alt="sensor_voltaje">
            </figure>
            <div class="info-producto">
                <h2>Sendor de voltaje</h2>
                <p class="precio">$30.000</p>
                <button onclick="agregarProducto(3)">Añadir al carrito</button>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer-content">
            <div class="left">
                <h3>Mis Datos</h3>
                <p>Email: Demeter@gmail.com</p>
                <p>Teléfono: +569 45677986</p>
            </div>
            <div class="right">
                <h3>Contáctanos</h3>
                <form action="/submit_form" method="POST">
                    <input type="text" name="nombre" placeholder="Nombre" required>
                    <input type="email" name="correo" placeholder="Correo" required>
                    <input type="tel" name="telefono" placeholder="Número de teléfono" required>
                    <button type="submit">Enviar</button>
                </form>
            </div>
        </div>
    </footer>
    <footer>
        <label id="footer1"></label>
        Carrito:<label id="footer2">0</label></footer>
    <script src="js/producto.js"></script>
    <script src="js/basic.js"></script>
    <script>
        var productos = [
            new producto(1, "Sensor de humedad", 30000, "img/sensor de humedad.jpg"),
            new producto(2, "sensor de luz", 40000, "img/sensor de luz.jpg"),
            new producto(3, "sensor de voltaje", 10000, "img/sensor de voltaje.jpg")
        ]

        localStorage.setItem("productos", JSON.stringify(productos));

        function agregarProducto(id) {
            console.log("Seleccion: " + id);
            const data = JSON.parse(localStorage.getItem("productos"))

            console.log(data[id-1])
            console.log(data[id-1]["nombre"])
            let nombreProducto = data[id-1]["nombre"];
            var valor = parseInt(document.getElementById("footer1").innerHTML);
            valor=valor+1;
            console.log(valor);
            document.getElementById("footer2").innerHTML=valor;
            document.getElementById("footer1").innerHTML=nombreProducto;
        }
    </script>
</body>

</html>